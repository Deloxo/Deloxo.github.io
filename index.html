<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta charset="utf-8">
    <meta name="theme-color" content="#430161" />
    <!--changing the color of the iphone top bar-->
    <style>
        body,
        html {
            background-color: #430161;
            color: #FFF;
            font-family: \'Ubuntu\', sans-serif;
            height: 750px;
            margin: 0;
            overflow: hidden;
            padding: 0;
            position: fixed;
            width: 414px;
        }

        .spell {
            border-bottom: 1px solid gray;
            font-size: 25px;
            height: 60px;
            line-height: 20px;
            padding-left: 10px;
            padding-top: 10px;
        }

        .spellCollege {
            font-size: 18px;
            left: 70px;
            position: relative;
            top: -25px;
        }

        .spellTitle {
            left: 10px;
            position: relative;
            top: -25px;
        }

        #backButton {
            background-image: url("backButton.png");
            background-size: cover;
            border: none;
            height: 50px;
            width: 50px;
        }

        #charAddButton {
            background-image: url("addToCharButton.png");
            background-size: cover;
            border: none;
            height: 50px;
            position: relative;
            width: 50px;
        }

        #charactersTab {
            background-image: url("charactersTab.png");
            background-repeat: no-repeat;
            border-radius: 5px;
            background-position: center;
            background-color: #430161;
            background-size: 50px 50px;
            border: none;
            height: 50px;
            left: 50%;
            margin-top: 10px;
            position: fixed;
            transform: translate(-50%);
            width: 100px;
        }

        #createNewSpellButton {
            background-image: url("newSpellButton.png");
            background-size: cover;
        }

        #createNewSpellButton,
        #settingsButton {
            border: none;
            height: 50px;
            margin: 5px;
            width: 50px;
        }

        #editButton {
            background-image: url("editButton.png");
            background-size: cover;
            border: none;
            float: right;
            height: 50px;
            margin-right: 10px;
            width: 50px;
        }

        #footer {
            border-top: 2px #FFF solid;
            height: 60px;
            width: 412px;
        }

        #header {
            border-bottom: 2px #FFF solid;
            height: 60px;
        }

        #mainContent {
            -webkit-overflow-scrolling: touch;
            height: 590px;
            overflow-y: scroll;
        }

        #searchBar {
            background-color: #430161;
            border: 2px solid #FFF;
            border-radius: 45px;
            font-size: 15px;
            height: 30px;
            position: relative;
            top: -20px;
            width: 266px;
            color: white;
        }

        #settingsButton {
            background-image: url("filterSettingsButton.png");
            background-size: cover;
        }

        #settingsTab {
            background-image: url("settingsTab.png");
            background-repeat: no-repeat;
            border-radius: 5px;
            background-position: center;
            background-color: #430161;
            background-size: 50px 50px;
            border: none;
            height: 50px;
            left: 75%;
            margin-top: 10px;
            position: fixed;
            transform: translate(-50%);
            width: 100px;
        }

        #spellListTab {
            background-image: url("spellListTab.png");
            background-repeat: no-repeat;
            border-radius: 5px;
            background-position: center;
            background-color: #430161;
            background-size: 50px 50px;
            border: none;
            height: 50px;
            left: 25%;
            margin-top: 10px;
            position: fixed;
            transform: translate(-50%);
            width: 100px;
            border: 3px #760f78 solid;
        }

        #spellPageTitle {
            font-size: 30px;
            margin-left: 30px;
        }

        .submitButton {
            align-self: center;
            background-color: #75249a;
            border: none;
            border-radius: 10px;
            height: 40px;
            left: 50%;
            position: fixed;
            top: 550px;
            transform: translate(-50%);
            width: 100px;
        }

        #nameTextBoxEdit {
            height: 40px;
            position: fixed;
            top: 50px;
            width: 300px;
        }

        #nameTextBoxCreate {
            height: 40px;
            position: fixed;
            top: 50px;
            width: 300px;
        }

        #charactersPage,
        #settingsPage {
            background-color: #430161;
            border: 1px #FFF solid;
            display: none;
            height: 651px;
            left: 0;
            position: absolute;
            top: 0;
            width: 412px;
            z-index: 1;
        }

        #spellCreate,
        #spellEdit,
        #spellPage {
            background-color: #430161;
            border: 1px #FFF solid;
            display: none;
            height: 714px;
            left: 0;
            position: absolute;
            top: 0;
            width: 412px;
            z-index: 1;
        }
        #searchResults {
          -webkit-overflow-scrolling: touch;
          width: 412px;
          height: 590px;
          position: fixed;
          overflow-y: scroll;
          display: none;
          background-color: #430161;
          border: 1px white solid;
          z-index: 2;
        }
    </style>
</head>

<body>
    <div id="header">
        <button id="createNewSpellButton" onclick="createSpell()">

        </button>

        <input id="searchBar" type="text" placeholder="Search" onchange="searchResultsChange()">
        <button id="settingsButton"></button>
    </div>
    <div id="mainContent">
      <div id="searchResults"></div>
    </div>
    <div id="spellPage">
        <div id="spellPageHeader">
            <button onclick="backToMain()" id="backButton"></button>
            <button id="editButton" onclick="editSpell()"></button>
        </div>
        <div id="spellPageTitle"></div>
    </div>
    <div id="spellEdit"> <!--Page accessed via the spell page of the desired spell. Used to change the data of that spell.-->
        <button onclick="cancelEdit()" id="backButton"></button>
        Name: <input id="nameTextBoxEdit">
        <button class="submitButton" onclick="submitToStorage()">Submit</button>
    </div>
    <div id="spellCreate">
        <button onclick="cancelCreation()" id="backButton"></button>
        Name: <input id="nameTextBoxCreate">
        <button class="submitButton" onclick="submitToStorage()"></button>
    </div>
    <div id="footer">
        <button onclick="mainPage()" id="spellListTab"></button>
        <button onclick="charactersPage()" id="charactersTab"></button>
        <button onclick="settingsPage()" id="settingsTab"></button>
    </div>
    <div id="charactersPage"></div>
    <div id="settingsPage"></div>
    <script src="pageTransitions.js"></script>
    <script>
        var spells = JSON.parse(localStorage.spells);

        function addToChar(number) {}

        var spellIndex = -1;

        function backToMain() {
            spellIndex = -1;
            document.getElementById("spellPage").style.display = 'none';
        }

        for (var x = 0; x < Object.keys(JSON.parse(localStorage.spells)).length; x++) {
            document.getElementById("mainContent").innerHTML += '<div class="spell" onclick="spellPage(' + x + ')"><button onclick="addToChar(' + x + ')" id="charAddButton"></button><span class="spellTitle"></span><br><span class="spellCollege"></span></div>';
            document.getElementsByClassName("spellTitle")[x].innerHTML = Object.values(JSON.parse(localStorage.spells))[x].name;
            document.getElementsByClassName("spellCollege")[x].innerHTML = Object.values(JSON.parse(localStorage.spells))[x].college;
        }
    </script>
</body>

</html>
