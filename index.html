<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta charset="utf-8">
    <meta name="theme-color" content="#430161" />
    <!--changing the color of the iphone top bar-->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="header">
        <button id="createNewSpellButton" onclick="createSpell()">

        </button>

        <input id="searchBar" type="text" placeholder="Search" onchange="searchResultsChange()">
        <button id="settingsButton"></button>
        <button onclick="mainPage()" id="spellsTab"></button>
        <button onclick="charactersPage()" id="skillsTab"></button>
        <button onclick="settingsPage()" id="rulesTab"></button>
    </div>
    <div id="mainContent">
      <div id="searchResults"></div>
    </div>
    <div id="spellPage">
        <div id="spellPageHeader">
            <button onclick="backToMain()" id="backButton"></button>
            <button id="editButton" onclick="editSpell()"></button>
        </div>
        <div id="spellPageTitle"></div>
    </div>
    <div id="spellEdit"> <!--Page accessed via the spell page of the desired spell. Used to change the data of that spell.-->
        <button onclick="cancelEdit()" id="backButton"></button>
        Name: <input id="nameTextBoxEdit">
        <button class="submitButton" onclick="submitToStorage()">Submit</button>
    </div>
    <div id="spellCreate">
        <button onclick="cancelCreation()" id="backButton"></button>
        Name: <input id="nameTextBoxCreate">
        <button class="submitButton" onclick="submitToStorage()"></button>
    </div>
    <div id="footer">
        <button onclick="mainPage()" id="spellListTab"></button>
        <button onclick="charactersPage()" id="charactersTab"></button>
        <button onclick="settingsPage()" id="settingsTab"></button>
    </div>
    <div id="charactersPage"></div>
    <div id="settingsPage"></div>
    <script src="pageTransitions.js"></script>
    <script>
        var spells = JSON.parse(localStorage.spells);

        function addToChar(number) {}

        var spellIndex = -1;

        function backToMain() {
            spellIndex = -1;
            document.getElementById("spellPage").style.display = 'none';
        }

        for (var x = 0; x < Object.keys(JSON.parse(localStorage.spells)).length; x++) {
            document.getElementById("mainContent").innerHTML += '<div class="spell" onclick="spellPage(' + x + ')"><button onclick="addToChar(' + x + ')" id="charAddButton"></button><span class="spellTitle"></span><br><span class="spellCollege"></span></div>';
            document.getElementsByClassName("spellTitle")[x].innerHTML = Object.values(JSON.parse(localStorage.spells))[x].name;
            document.getElementsByClassName("spellCollege")[x].innerHTML = Object.values(JSON.parse(localStorage.spells))[x].college;
        }
    </script>
</body>

</html>
